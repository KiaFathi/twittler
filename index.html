<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <style>
      .tweet{
        float: center;
        width: 500px;
        border-size: 20px;
        border-style: solid;
        border-color: blue;
        border-radius: 20px;
        text-align: center;
        margin: auto;
      }
      .user{
        float:left;
      }
      .msg{
        float:center;
        clear: both;
      }
      .time{
        float:right;
      }
      .header{
        color:blue;
        font-size:20px;
        font-weight: bold;
        text-align: left
        text-decoration:underline;
      }
      .main_title{
        font-size:40px;
        text-align: center;

      }
    </style>
  </head>
  <boddy>
    <script>
      var state = 'all';
      
      var getTweets = function(){
        $('.tweets').empty()
        var index = streams.home.length - 1;
        while(index >= 0){
          var tweet = streams.home[index];
          var user = tweet.user.toString();
          if(state === user || state === 'all'){
            var $tweet = $("<div class='tweet " +tweet.user + "'></div>");
            $tweet.append("<p class='user'>" + "@" + tweet.user +'</p>');
            $tweet.append("<p class='time'>" + "Posted: " + tweet.created_at + '</p>');
            $tweet.append("<p class='msg'>" + tweet.message + '</p>');
            $tweet.appendTo('.tweets');
          }
          index -= 1;
        }
      }

      var stateChange = function(){
        
      };

      $(document).ready(function(){
        getTweets();
        setInterval(function(){
          getTweets();
        }, 5000);
        $('.user').on('click',function(){
            var clicked = $(this).text();
          if(state === clicked.slice(1)){
            state = 'all';
            console.log(state);

          }else{
            state = clicked.slice(1);
            console.log(state);
          }
          getTweets();
        })
        $('.main_title').on('click', function(){
          location.reload();
        })
      });

    </script>
    <div class='header'>
      <p class ="main_title">Twittler<p>
    </div>
    <div class='tweets'>
      <div>Placeholder</div>
    </div>
  </body>
</html>
